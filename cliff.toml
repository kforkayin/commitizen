# https://git-cliff.org/docs/configuration

[changelog]
header = "# Changelog\n\n"
body = """
{% if version %}\
    ## {{ version | trim_start_matches(pat="v") }} ({{ timestamp | date(format="%Y-%m-%d") }})
{% else %}\
    ## (unreleased)
{% endif %}
{% for commit in commits %}\
    - {{ commit.group }}: {% if commit.breaking %}[**breaking**] {% endif %}{{ commit.message }} by {% if commit.remote.username %}[@{{commit.remote.username}}](https://github.com/{{commit.remote.username}}) {% else %}{{ commit.author.name }}{% endif %}
{% endfor %}\n
"""
trim = true
output = "CHANGELOG.md"

[git]
conventional_commits = true
filter_unconventional = true
require_conventional = false
split_commits = false
link_parsers = [
    { pattern = "#(\\d+)", href = "https://github.com/isokolovskii/commitizen/issues/$1"},
    { pattern = "RFC(\\d+)", text = "ietf-rfc$1", href = "https://datatracker.ietf.org/doc/html/rfc$1"},
]
commit_parsers = [
  { message = "^feat", group = "<!-- 0 -->:rocket: New features" },
  { message = "^fix", group = "<!-- 1 -->:bug: Bug fixes" },
  { message = "^docs", group = "<!-- 5 -->:books: Documentation" },
  { message = "^perf", group = "<!-- 3 -->:zap: Performance" },
  { message = "^refactor", group = "<!-- 4 -->:pencil: Refactor" },
  { message = "^ci", group = "<!-- 7 -->:building_construction:ci" },
  { message = "^test", group = "<!-- 6 -->:test_tube: Tests" },
  { message = "^chore\\(release\\)", skip = true },
  { message = "^chore", group = "<!-- 2 -->:screwdriver:chore" },
  { body = ".*security", group = "<!-- 2 -->:guard: Security" },
]
protect_breaking_commits = false
filter_commits = false
tag_pattern = "v[0-9]*"
skip_tags = true
ignore_tags = ""
topo_order = false
sort_commits = "newest"

[bump]
features_always_bump_minor = true
breaking_always_bump_major = true
initial_tag = "1.0.0"

[remote.github]
owner = "isokolovskii"
repo = "commitizen"
